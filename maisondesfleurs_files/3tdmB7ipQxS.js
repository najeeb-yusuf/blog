if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisIgWebClipsAudioPageMediaOpenFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("ig_web_clips_audio_page_media_open",a(),{},h)};return a}();g["default"]=a}),98);
__d("PolarisIgWebClipsAudioPageVisitFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("ig_web_clips_audio_page_visit",a(),{},h)};return a}();g["default"]=a}),98);
__d("PolarisIgWebClipsProfileTabMediaOpenFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("ig_web_clips_profile_tab_media_open",a(),{},h)};return a}();g["default"]=a}),98);
__d("PolarisIgWebClipsProfileTabOpenFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("ig_web_clips_profile_tab_open",a(),{},h)};return a}();g["default"]=a}),98);
__d("PolarisClipsLogger",["PolarisIgWebClipsAudioPageMediaOpenFalcoEvent","PolarisIgWebClipsAudioPageVisitFalcoEvent","PolarisIgWebClipsProfileTabMediaOpenFalcoEvent","PolarisIgWebClipsProfileTabOpenFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.pageID,d=a.userID;c("PolarisIgWebClipsProfileTabOpenFalcoEvent").log(function(){return{ig_user_id:parseInt(d,10),page_id:b}})}function b(a){var b=a.mediaID,d=a.pageID,e=a.userID;c("PolarisIgWebClipsProfileTabMediaOpenFalcoEvent").log(function(){return{ig_user_id:parseInt(e,10),page_id:d,media_id:b}})}function d(a){var b=a.audioClusterID,d=a.isPageRestricted,e=a.originalSoundID,f=a.pageID,g=a.responseStatus,h=a.userID;c("PolarisIgWebClipsAudioPageVisitFalcoEvent").log(function(){return{ig_user_id:parseInt(h,10),page_id:f,audio_cluster_id:b,original_sound_id:e,is_page_restricted:d,response_status:g}})}function e(a){var b=a.mediaID,d=a.pageID,e=a.userID;c("PolarisIgWebClipsAudioPageMediaOpenFalcoEvent").log(function(){return{ig_user_id:parseInt(e,10),page_id:d,media_id:b}})}g.logClipsTabOpen=a;g.logClipsTabMediaOpen=b;g.logClipsAudioPageVisit=d;g.logClipsAudioPageMediaOpen=e}),98);
__d("PolarisClipsActions",["fbt","PolarisClipsActionTypes","PolarisClipsHelpers","PolarisClipsLogger","PolarisConfig","PolarisInstapi","PolarismonitorErrors","gkx","regeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,e,f){f===void 0&&(f=null);return function(g){var h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:g({type:d("PolarisClipsActionTypes").CLIPS_LOADING,userId:a});h={target_user_id:a,page_size:e,max_id:f,include_feed_video:c("gkx")("5284")};j.next=4;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiPost("/api/v1/clips/user/",{body:h}));case 4:i=j.sent;if(!(i.status!=="ok")){j.next=8;break}g({type:d("PolarisClipsActionTypes").CLIPS_LOADING_ERROR,userId:a});return j.abrupt("return");case 8:g({clips:i.data.items,pagingInfo:i.data.paging_info,type:d("PolarisClipsActionTypes").CLIPS_LOADED,userId:a});case 9:case"end":return j.stop()}},null,this)}}function i(a,c,e){return function(f){var g;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:g=d("PolarisClipsHelpers").generateAudioBookmarkBody(a,c,e);f({type:d("PolarisClipsActionTypes").CLIPS_AUDIO_PAGE_BOOKMARK_LOADING,audioId:a});j.prev=2;j.next=5;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiPost("/api/v1/music/bookmark_music",{body:g}));case 5:f({type:d("PolarisClipsActionTypes").CLIPS_AUDIO_PAGE_BOOKMARK_SUCCESS,audioId:a,isBookmarked:!0});j.next=12;break;case 8:j.prev=8,j.t0=j["catch"](2),f({type:d("PolarisClipsActionTypes").CLIPS_AUDIO_PAGE_BOOKMARK_ERROR,audioId:a,isBookmarked:!1,toast:{text:h._("Couldn't save audio."),actionText:h._("Retry"),actionHandler:function(){return f(i(a,c,e))}}}),d("PolarismonitorErrors").logError(j.t0);case 12:case"end":return j.stop()}},null,this,[[2,8]])}}function j(a,c,e){return function(f){var g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:g=d("PolarisClipsHelpers").generateAudioBookmarkBody(a,c,e);f({type:d("PolarisClipsActionTypes").CLIPS_AUDIO_PAGE_BOOKMARK_LOADING,audioId:a});i.prev=2;i.next=5;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiPost("/api/v1/music/unbookmark_music",{body:g}));case 5:f({type:d("PolarisClipsActionTypes").CLIPS_AUDIO_PAGE_BOOKMARK_SUCCESS,audioId:a,isBookmarked:!1});i.next=12;break;case 8:i.prev=8,i.t0=i["catch"](2),f({type:d("PolarisClipsActionTypes").CLIPS_AUDIO_PAGE_BOOKMARK_ERROR,audioId:a,isBookmarked:!0,toast:{text:h._("Couldn't remove audio."),actionText:h._("Retry"),actionHandler:function(){return f(j(a,c,e))}}}),d("PolarismonitorErrors").logError(i.t0);case 12:case"end":return i.stop()}},null,this,[[2,8]])}}function e(a,c){c===void 0&&(c=null);return function(e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return b("regeneratorRuntime").async(function(z){while(1)switch(z.prev=z.next){case 0:l=c==null;e({type:d("PolarisClipsActionTypes").CLIPS_AUDIO_PAGE_LOADING,audioId:a});m={audio_cluster_id:a,original_sound_audio_asset_id:a,max_id:c};z.next=5;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiPost("/api/v1/clips/music/",{body:m}));case 5:n=z.sent;if(!(n.status!=="ok")){z.next=10;break}l&&d("PolarisClipsLogger").logClipsAudioPageVisit({pageID:a,userID:d("PolarisConfig").getViewerId(),responseStatus:n.status});e({type:d("PolarisClipsActionTypes").CLIPS_AUDIO_PAGE_LOADING_ERROR,audioId:a});return z.abrupt("return");case 10:(o=n.data,p=o.formatted_media_count,q=o.is_music_page_restricted,r=o.items,s=o.metadata,t=o.music_page_restricted_context,u=o.paging_info),v=(f=(g=(h=s.music_info)==null?void 0:(i=h.music_consumption_info)==null?void 0:i.is_bookmarked)!=null?g:(j=s.original_sound_info)==null?void 0:(k=j.consumption_info)==null?void 0:k.is_bookmarked)!=null?f:!1,l&&d("PolarisClipsLogger").logClipsAudioPageVisit({pageID:a,userID:d("PolarisConfig").getViewerId(),audioClusterID:s==null?void 0:(w=s.music_info)==null?void 0:(x=w.music_asset_info)==null?void 0:x.audio_cluster_id,originalSoundID:s==null?void 0:(y=s.original_sound_info)==null?void 0:y.audio_asset_id,isPageRestricted:q,responseStatus:n.status}),e({type:d("PolarisClipsActionTypes").CLIPS_AUDIO_PAGE_LOADED,audioId:a,clips:r,formattedMediaCount:p,isMusicPageRestricted:q,musicPageRestrictedContext:t,metadata:s,pagingInfo:u,isInitialLoad:l,isBookmarked:v});case 14:case"end":return z.stop()}},null,this)}}function k(a,b){var c=a.formatted_media_count,d=a.is_effect_page_restricted,e=a.items,f=a.metadata,g=a.effect_page_restricted_context;a=a.paging_info;return{effectId:b,clips:e,formattedMediaCount:c,isEffectPageRestricted:d,effectPageRestrictedContext:g,metadata:f,pagingInfo:a}}function f(a,c){c===void 0&&(c=null);return function(e){var f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:e({type:d("PolarisClipsActionTypes").CLIPS_EFFECT_PAGE_LOADING,effectId:a});h.prev=1;h.next=4;return b("regeneratorRuntime").awrap(d("PolarisInstapi").apiPost("/api/v1/clips/effect/",{body:{effect_id:a,max_id:c}}));case 4:f=h.sent;g=k(f.data,a);e(babelHelpers["extends"]({type:d("PolarisClipsActionTypes").CLIPS_EFFECT_PAGE_LOADED},g));h.next=13;break;case 9:h.prev=9;h.t0=h["catch"](1);e({type:d("PolarisClipsActionTypes").CLIPS_EFFECT_PAGE_LOADING_ERROR,effectId:a});return h.abrupt("return");case 13:case"end":return h.stop()}},null,this,[[1,9]])}}function l(a){return function(c){return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:c({type:d("PolarisClipsActionTypes").CLIPS_AUDIO_PAGE_AUDIO_PLAYER_IS_PLAYING,isPlaying:a});case 1:case"end":return b.stop()}},null,this)}}g.fetchClips=a;g.bookmarkAudio=i;g.unbookmarkAudio=j;g.fetchClipsForAudioPage=e;g.getEffectPageLoadedInfo=k;g.fetchClipsForEffectPage=f;g.updateAudioPageAudioPlayerIsPlaying=l}),98);
__d("PolarisVideoPostGridItemOverlay",["cx","PolarisAssetManagerGlyphMapping","PolarisConsumerBigNumber","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCoreIcon","PolarisIGCorePlayPanoFilledIcon","PolarisIGCoreText","PolarisPostsGridItemOverlay","PolarisPostsGridItemStatsOverlay","PolarisQEHelper","PolarisUA","PolarisuserSelectors","qex","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="linear-gradient(\n  0deg,\n  rgba(0, 0, 0, 0.4) 0%,\n  rgba(0, 0, 0, 0) 22.27%\n)";function a(a){var b=a.commentsDisabled,e=a.likeAndViewCountsDisabled;a.mediaId;var f=a.numComments,g=a.numPreviewLikes,h=a.productType,k=a.videoViews;a=a.viewerIsOwner;k=parseInt(k,10);var l=d("react-redux-wwwig").useSelector(function(a){return d("PolarisuserSelectors").getViewer(a)}),m=a||c("qex")._("874")!==!0||(l==null?void 0:l.hideLikeAndViewCounts)!==!0&&e!==!0,n=null;if(!isNaN(k)){var o=i.jsx(c("PolarisIGCoreBox"),{marginEnd:d("PolarisUA").isMobile()?1:2,children:d("PolarisUA").isMobile()?i.jsx(c("PolarisIGCoreIcon"),{alt:d("PolarisGenericStrings").PLAY_ICON_ALT,icon:d("PolarisAssetManagerGlyphMapping").ICONS.PLAY_OUTLINE_12_WHITE}):i.jsx(c("PolarisIGCorePlayPanoFilledIcon"),{alt:d("PolarisGenericStrings").PLAY_ICON_ALT,color:"web-always-white",size:16})});n=i.jsx(c("PolarisPostsGridItemOverlay"),{backgroundColor:j,children:i.jsx("div",{className:"_aajy",children:i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,direction:"row",display:"flex",marginBottom:d("PolarisUA").isMobile()?2:4,marginStart:d("PolarisUA").isMobile()?2:4,position:"absolute",children:[m&&o,m&&k>0&&i.jsx(c("PolarisIGCoreText"),{color:"web-always-white",size:d("PolarisUA").isMobile()?"footnote":"label",weight:"semibold",children:i.jsx(c("PolarisConsumerBigNumber"),{shortenNumber:!0,value:k})})]})})})}o=a||!d("PolarisQEHelper").shouldHideLikeCountsWithControls(l==null?void 0:l.hideLikeAndViewCounts,e);return o&&!d("PolarisUA").isMobile()?i.jsxs("div",{className:"_aajz",children:[i.jsx("div",{className:"_aaj-",children:i.jsx(c("PolarisPostsGridItemStatsOverlay"),{commentsDisabled:b,isVideo:!0,numComments:f,numPreviewLikes:g,productType:h,videoViews:0})}),i.jsx("div",{className:"_aaj_",children:n})]}):n}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsGridItem.react",["cx","FastLink","PolarisAspectRatio.react","PolarisConfig","PolarisLinkBuilder","PolarisMediaHelpers","PolarisUA","PolarisVideoPostGridItemOverlay","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=212/330,k=119.5/212;function l(a){var b,e,f,g;b=(b=a.media)==null?void 0:(b=b.user)==null?void 0:(b=b.pk)==null?void 0:b.toString();b=b===d("PolarisConfig").getViewerId();e=(e=a.media)==null?void 0:e.product_type;f=e==="clips"?(f=a.media)==null?void 0:f.play_count:(f=a.media)==null?void 0:f.view_count;return i.jsx(c("PolarisVideoPostGridItemOverlay"),{commentsDisabled:!1,likeAndViewCountsDisabled:(g=a.media)==null?void 0:g.like_and_view_counts_disabled,mediaId:a.id,numComments:(g=a.media)==null?void 0:g.comment_count,numPreviewLikes:(g=a.media)==null?void 0:g.like_count,productType:e,videoViews:(a=f)!=null?a:0,viewerIsOwner:b})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.clip,e=a.onClick;a=a.shouldSpawnModals;var f=d("PolarisMediaHelpers").getImageSrcSet(d("PolarisMediaHelpers").getImageCandidatesFromMediaItem(b.media));f=f==null?void 0:(f=f[0])==null?void 0:f.src;return i.jsx("div",{className:"_aajw",children:i.jsxs(c("FastLink"),{href:d("PolarisLinkBuilder").buildClipsMediaLink(c("nullthrows")(b.media.code)),onClick:function(a){return e(a,c("nullthrows")(b.media.pk))},shouldOpenModal:a===!0,children:[i.jsx(c("PolarisAspectRatio.react"),{aspectRatio:d("PolarisUA").isMobile()?k:j,className:"_aajx",style:{backgroundImage:"url("+((a=f)!=null?a:"")+")"}}),i.jsx(l,{media:b.media})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsItemModal",["IGRouter","PolarisClipsHelpers","PolarisLinkBuilder","PolarisPost.react","PolarisPostModal.react","PolarisPostOptionCopyLink","PolarisPostOptionDelete","PolarisPostOptionEmbed","PolarisPostOptionGoToPost","PolarisPostOptionPhotosOfYou","PolarisPostOptionReportInappropriate","PolarisPostOptionShare","PolarisPostVariants","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef;function a(a){var b=a.analyticsContext,e=a.clips,f=a.history,g=a.onClose,j=a.onOpen;a=a.postId;f=i(f.location.pathname);var k=d("PolarisClipsHelpers").getClipItemFromPostID(e,a);if(!k)return null;e=e.map(function(a){return c("nullthrows")(a.media.pk)});return h.jsx(c("PolarisPostModal.react"),{analyticsContext:b,combinedPostIds:e,dimensions:d("PolarisClipsHelpers").getClipDimensionsFromItemDict(k),mediaLinkBuilder:d("PolarisLinkBuilder").buildClipsMediaLink,modalEntryPath:f.current,onClose:g,onOpen:j,postCode:c("nullthrows")(k.media.code),postId:a,children:h.jsx(c("PolarisPost.react"),{analyticsContext:b+"Modal",autoplay:!0,id:a,inModal:!0,isVisible:!0,Options:[c("PolarisPostOptionDelete"),c("PolarisPostOptionReportInappropriate"),c("PolarisPostOptionGoToPost"),c("PolarisPostOptionEmbed"),c("PolarisPostOptionPhotosOfYou"),c("PolarisPostOptionShare"),c("PolarisPostOptionCopyLink")],variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0})})}a.displayName=a.name+" [from "+f.id+"]";b=d("IGRouter").withIGRouter(a);g["default"]=b}),98);
__d("PolarisClipsGrid.react",["cx","PolarisClipsConstants","PolarisClipsGridItem.react","PolarisClipsItemModal","PolarisConfig","PolarisIGCoreBox","PolarisIGCoreSpinner","PolarisIGVirtualGrid","PolarisLoggedOutLoginModal.react","PolarisMediaConstants","PolarisNavigationActions","PolarisSizing","PolarisUA","PolarisclipsSelectors","PolarisdisplayPropertiesSelectors","PolarispostModalHelpers","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useState;function a(a){var b=a.analyticsContext,e=a.clips,g=a.fetchClips,h=a.hasNextPage,m=a.isFetching,n=a.onModalOpen;a=a.shouldDisableFetching;var o=a===void 0?!1:a,p=d("react-redux-wwwig").useSelector(function(a){return d("PolarisclipsSelectors").getIsNarrowScreen(a)})?d("PolarisClipsConstants").CLIPS_PER_ROW_MOBILE:d("PolarisClipsConstants").CLIPS_PER_ROW_DESKTOP,q=d("react-redux-wwwig").useSelector(function(a){return d("PolarisdisplayPropertiesSelectors").getViewportWidth(a)});a=l(!1);var r=a[0],s=a[1];a=l(null);var t=a[0],u=a[1],v=d("react-redux-wwwig").useDispatch();a=d("react-redux-wwwig").useSelector(function(a){return a.navigation.isLoginModalOpen});var w=e.length<d("PolarisClipsConstants").THRESHOLD_TO_FORCE_FETCH_MORE_CLIPS;function x(a){return i.jsx("div",{className:"_abq3"},a)}x.displayName=x.name+" [from "+f.id+"]";var y=j(function(a){s(!0),u(a),d("PolarispostModalHelpers").logPostModalOpen(b,d("PolarisMediaConstants").MediaTypes.VIDEO,"clips_grid"),n&&n(a)}),z=function(){s(!1),u(null)},A=j(function(a,b){d("PolarisConfig").isNetzDGEligible()?(a.preventDefault(),v(d("PolarisNavigationActions").openLoginModal("feature_wall","/","profile_clips_tab",null,!1,b))):d("PolarisUA").isMobile()||(a.preventDefault(),y(b))},[v,y]);function B(a){a=a.index;return i.jsx("div",{className:"_abq3",children:i.jsx(c("PolarisClipsGridItem.react"),{clip:e[a],onClick:A,shouldSpawnModals:d("PolarisSizing").shouldSpawnModals(q)})},e[a].media.id)}B.displayName=B.name+" [from "+f.id+"]";var C=function(){e.length===0&&g(p)},D=function(a){a=a.numScreensFromEnd;o===!1&&!w&&m!==!0&&h===!0&&a<1&&g(p)};k(function(){o===!1&&w&&m!==!0&&h===!0&&g(p)},[e.length,w,m,h,g,p,o]);return i.jsxs(c("PolarisIGCoreBox"),{width:"100%",children:[i.jsx(c("PolarisIGVirtualGrid"),{itemCount:h===!1||o===!0?e.length:e.length-e.length%p,itemsPerRow:p,onInitialize:C,onScroll:D,renderer:B,rendererPlaceholder:x,rowClassName:"_abq4"}),m===!0&&i.jsx("div",{className:"_abq5",children:i.jsx(c("PolarisIGCoreSpinner"),{position:"absolute",size:"medium"})}),r&&t!=null&&i.jsx(c("PolarisClipsItemModal"),{analyticsContext:b,clips:e,onClose:z,onOpen:y,postId:t}),a&&i.jsx(c("PolarisLoggedOutLoginModal.react"),{triggeringPageType:"profile"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);